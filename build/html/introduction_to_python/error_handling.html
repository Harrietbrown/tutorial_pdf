
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Error Handling &#8212; Mantid Documentation 4.0.0 documentation</title>
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Working With Functions" href="working_with_functions.html" />
    <link rel="prev" title="More Sequence Types" href="more_sequence_types.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="error-handling">
<span id="id1"></span><h1>Error Handling<a class="headerlink" href="#error-handling" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li><p>As we saw earlier Python can give error messages under certain
conditions. This is known as raising an exception and Python’s
default behaviour is to halt execution. Exceptions are raised using
the <code class="docutils literal notranslate"><span class="pre">raise</span></code> keyword:</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># ...</span>

<span class="c1"># Execution stopped:</span>
<span class="k">raise</span> <span class="ne">RuntimeError</span>
</pre></div>
</div>
<ul class="simple">
<li><p>In some cases we may be able to manage the error and still continue.
This is known as exception handling and is achieved using
<code class="docutils literal notranslate"><span class="pre">try</span> <span class="pre">...</span> <span class="pre">except</span></code> clauses,</p></li>
</ul>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">arr</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">]</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">6</span><span class="p">):</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">val</span> <span class="o">=</span> <span class="n">arr</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
        <span class="nb">print</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">val</span><span class="p">))</span>
    <span class="k">except</span> <span class="ne">IndexError</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Error: List index out of range, leaving loop&#39;</span><span class="p">)</span>
        <span class="k">break</span>
</pre></div>
</div>
<ul class="simple">
<li><p>If an exception is raised then the code immediately jumps to the
nearest <code class="docutils literal notranslate"><span class="pre">except</span></code> block. The output of the above code block is:</p></li>
</ul>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>1
2
3
4
5
Error: List index out of range, leaving loop
</pre></div>
</div>
<ul class="simple">
<li><p>As with other control structures there is an extra <code class="docutils literal notranslate"><span class="pre">else</span></code> clause
that can be added which will only be executed if no error was raised,</p></li>
</ul>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">arr</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">]</span>
<span class="n">value</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">try</span><span class="p">:</span>
   <span class="n">value</span> <span class="o">=</span> <span class="n">arr</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span>
<span class="k">except</span> <span class="ne">IndexError</span><span class="p">:</span>
   <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;5 is not a valid array index&#39;</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
   <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;6th element is &#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">value</span><span class="p">))</span>
</pre></div>
</div>
<p>gives the output</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>5 is not a valid array index
</pre></div>
</div>
<ul class="simple">
<li><p>With a <code class="docutils literal notranslate"><span class="pre">try...except...else</span></code> structure only one of the except/else
clauses will ever be executed. In some circumstances however it is
necessary to perform some operation, maybe a clean up, regardless of
whether an exception was raised. This is done with a
<code class="docutils literal notranslate"><span class="pre">try...except...finally</span></code> structure,</p></li>
</ul>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">value</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">arr</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">]</span>
<span class="n">element</span> <span class="o">=</span> <span class="mi">6</span>
<span class="k">try</span><span class="p">:</span>
    <span class="n">value</span> <span class="o">=</span> <span class="n">arr</span><span class="p">[</span><span class="n">element</span><span class="p">]</span>
<span class="k">except</span> <span class="ne">IndexError</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">element</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39; is not a valid array index&#39;</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">element</span> <span class="o">+</span> <span class="mi">1</span> <span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;th element is &#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">value</span><span class="p">))</span>
<span class="k">finally</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Entered finally clause, do cleanup ...&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>gives the output</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>6 is not a valid array index
Entered finally clause, do cleanup ...
</pre></div>
</div>
<ul class="simple">
<li><p>Changing the value of the element variable between valid/invalid
values will show that one of the except/else clauses gets executed
and then the finally clause always gets executed.</p></li>
<li><p>It is also possible to catch exceptions of any type by leaving off
the specific error that is to be caught. This is however not
recommended as then it is not possible to say exactly what error
occurred</p></li>
</ul>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">value</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">arr</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">]</span>
<span class="n">element</span> <span class="o">=</span> <span class="mi">6</span>
<span class="k">try</span><span class="p">:</span>
    <span class="n">value</span> <span class="o">=</span> <span class="n">arr</span><span class="p">[</span><span class="n">element</span><span class="p">]</span>
<span class="k">except</span><span class="p">:</span>     <span class="c1"># Catch everything</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Something went wrong but I don&#39;t know what&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>gives the output</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Something went wrong but I don&#39;t know what
</pre></div>
</div>
<p><a class="reference external" href="Category:Tested_Examples">Category:Tested Examples</a></p>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">Mantid Documentation</a></h1>








<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../mantid_basic_course/index.html">Mantid Basic Course</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Introduction to Python</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="basic_language_principles.html">Basic Language Principles</a></li>
<li class="toctree-l2"><a class="reference internal" href="type_conversions.html">Type Conversions</a></li>
<li class="toctree-l2"><a class="reference internal" href="sequence_data_types.html">Sequence Data Types</a></li>
<li class="toctree-l2"><a class="reference internal" href="control_structures.html">Control Structures</a></li>
<li class="toctree-l2"><a class="reference internal" href="looping.html">Looping</a></li>
<li class="toctree-l2"><a class="reference internal" href="basic_python_exercises_1-2.html">Basic Python Exercises</a></li>
<li class="toctree-l2"><a class="reference internal" href="more_sequence_types.html">More Sequence Types</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Error Handling</a></li>
<li class="toctree-l2"><a class="reference internal" href="working_with_functions.html">Working With Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="basic_python_exercises_3-4.html">Basic Python Exercises</a></li>
<li class="toctree-l2"><a class="reference internal" href="working_with_files.html">Working With Files</a></li>
<li class="toctree-l2"><a class="reference internal" href="using_modules.html">Using Modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="pattern_matching_with_regular_expressions.html">Pattern Matching With Regular Expressions</a></li>
<li class="toctree-l2"><a class="reference internal" href="basic_python_exercises_5.html">Basic Python Exercises</a></li>
<li class="toctree-l2"><a class="reference internal" href="solutions_to_exercises.html">Solutions To Exercises</a></li>
</ul>
</li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  <li><a href="index.html">Introduction to Python</a><ul>
      <li>Previous: <a href="more_sequence_types.html" title="previous chapter">More Sequence Types</a></li>
      <li>Next: <a href="working_with_functions.html" title="next chapter">Working With Functions</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
<footer class="footer">
  <div class="container">
      <ul class="nav navbar-nav" style=" float: right;">
      
      
          <li><a href="#">Back to top</a></li>
       </ul>
    <p>
        &copy; Copyright 2019, Mantid.<br/>
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 2.0.1.<br/>
    </p>
  </div>
</footer>
  </body>
</html>